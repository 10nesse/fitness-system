<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit Payment</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
</head>
<body>
<div th:fragment="content">
    <h1>Edit Payment</h1>

    <p th:if="${errorMessage}" style="color:red" th:text="${errorMessage}"></p>

    <form th:action="@{/web/admin/payments/edit}" th:object="${payment}" method="post">
        <input type="hidden" th:field="*{id}"/>

        <!-- Выбор абонемента -->
        <label for="subscription">Subscription:</label>
        <select id="subscription" name="subscriptionId">
            <option th:each="subscription : ${subscriptions}"
                    th:value="${subscription.id}"
                    th:text="${subscription.id}"
                    th:selected="${subscription.id} == ${payment.subscription.id}"></option>
        </select><br/>

        <!-- Поле для суммы -->
        <label for="amount">Amount:</label>
        <input type="number" step="0.01" id="amount" th:field="*{amount}" required/><br/>

        <!-- Поле для даты платежа -->
        <label for="paymentDate">Payment Date:</label>
        <input type="datetime-local" id="paymentDate" th:field="*{paymentDate}" required/><br/>

        <button type="submit">Update</button>
    </form>

    <a th:href="@{/web/admin/payments}">Back to Payments</a>
</div>
<th:block th:replace="~{layout :: content}"/>
</body>
</html>
