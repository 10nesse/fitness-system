<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Payments</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
</head>
<body>
<div th:fragment="content">
    <h1>Payments</h1>

    <p><a th:href="@{/web/home}">Back to Dashboard</a></p>
    <p><a th:href="@{/web/admin/payments/create}">Add New Payment</a></p>

    <div th:if="${payments != null and payments.size() > 0}">
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Amount</th>
                <th>Payment Date</th>
                <th>Subscription</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="payment : ${payments}">
                <td th:text="${payment.id}">ID</td>
                <td th:text="${payment.amount}">Amount</td>
                <td th:text="${#temporals.format(payment.paymentDate, 'yyyy-MM-dd HH:mm')}">Payment Date</td>
                <td th:text="${payment.subscription.id}">Subscription ID</td>
                <td>
                    <a th:href="@{'/web/admin/payments/edit/' + ${payment.id}}">Edit</a>
                    <a th:href="@{'/web/admin/payments/delete/' + ${payment.id}}"
                       onclick="return confirm('Are you sure you want to delete this payment?')">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div th:if="${payments == null or payments.size() == 0}">
        <p>No payments found.</p>
    </div>
</div>
<th:block th:replace="~{layout :: content}"/>
</body>
</html>
